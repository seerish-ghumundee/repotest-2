name: Trivy Scan

on:
  push:
    branches:
      - develop

jobs:
  trivy-scan:
    uses: mnsltd/DEVOPS-githubworkflows/.github/workflows/trivy-java-ci.yml@develop
    with:
      java-version: '21'
      java-distribution: 'temurin'
      maven-command: 'mvn clean -Dbuild.number=42 '
      docker-build-command: 'docker build -t code:latest'
      maven-version: '3.6.3'
      docker-modules: ./backend-app
    secrets: inherit
